(()=>{"use strict";const e=document.querySelectorAll(".tabs__nav-btn"),t=document.querySelectorAll(".tabs__item");e.forEach((function(n){n.addEventListener("click",(()=>{let a=n,c=a.getAttribute("data-tab"),o=document.querySelector(c),i=`4TH - ${a.innerText}`;a.classList.contains("active")||(e.forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{e.classList.remove("active")})),a.classList.add("active"),o.classList.add("active"),document.title=i)}))})),document.querySelectorAll(".tabs__nav-btn")[0].click();const n=document.querySelector(".result__outputs"),a=document.querySelector(".tab-calculator__form"),c=document.querySelectorAll(".datepicker__input")[0],o=document.querySelectorAll(".datepicker__input")[1],i=document.getElementById("checkbox_1"),l=document.querySelector(".input-from__checkbox .checkbox__inner"),r=document.getElementById("checkbox_2"),u=document.querySelector(".input-to__checkbox .checkbox__inner");function d(){c.value&&o.value&&s(event)}function s(e){e.preventDefault();let t=new Date(c.value),a=new Date(o.value);if(i.checked&&(t=new Date(t),t.setDate(t.getDate()+1)),r.checked&&(a=new Date(a),a.setDate(a.getDate()+1)),isNaN(t)||isNaN(a))return void(n.innerText="Invalid date input");let l=a-t,u=Math.abs(l/864e5);const d=document.querySelector('.presets__radio input[name="radio-p"]:checked'),s=document.querySelector('.allow__radio input[name="radio-allow"]:checked');let v="d.";if(d&&"p_radio_2"===d.id?(u*=24,v="h."):d&&"p_radio_3"===d.id?(u*=1440,v="m."):d&&"p_radio_4"===d.id&&(u*=86400,v="s."),s&&"a_radio_1"===s.id){u-=function(e,t){let n=0;for(let a=0;a<t;a++){const t=new Date(e.getTime()+24*a*60*60*1e3).getDay();0!==t&&6!==t||n++}return n}(t,Math.ceil(u))}else if(s&&"a_radio_2"===s.id){u-=function(e,t){let n=0;for(let a=0;a<t;a++){const t=new Date(e.getTime()+24*a*60*60*1e3).getDay();t>=1&&t<=5&&n++}return n}(t,Math.ceil(u))}if(isNaN(u))n.innerText="Calculation error";else{const e=u.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");n.innerText=`= ${e} ${v}`}}l.textContent=i.checked?"Including":"No including",u.textContent=r.checked?"Including":"No including",a.addEventListener("submit",s),i.addEventListener("change",g),r.addEventListener("change",g),i.addEventListener("change",d),r.addEventListener("change",d);const v=document.querySelector('.actions__item[data-preset="month"]'),_=document.querySelector('.actions__item[data-preset="week"]');function m(e){return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}function g(e){const t=e.target;let n;t===i?n=l:t===r&&(n=u),n.textContent=t.checked?"Including":"No including"}v&&_&&(v.addEventListener("click",(e=>{if(e.preventDefault(),c.value&&!o.value){const t=new Date(c.value);t.setMonth(t.getMonth()+1),o.value=m(t),s(e)}else if(o.value&&!c.value){const t=new Date(o.value);t.setMonth(t.getMonth()+1),c.value=m(t),s(e)}})),_.addEventListener("click",(e=>{if(e.preventDefault(),o.value&&!c.value){const t=new Date(o.value);t.setDate(t.getDate()+7),c.value=m(t),s(e)}else if(c.value&&!o.value){const t=new Date(c.value);t.setDate(t.getDate()+7),o.value=m(t),s(e)}}))),n.innerText="enter dates!";const h=document.querySelectorAll('.presets__radio input[name="radio-p"]'),f=document.querySelectorAll('.allow__radio input[name="radio-allow"]');function p(e){c.value&&o.value&&s(e)}h.forEach((e=>{e.addEventListener("change",p)})),f.forEach((e=>{e.addEventListener("change",p)})),function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();